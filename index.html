<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>14-22127104-22127427</title>
    <link rel="stylesheet" href="css/layout.css">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/overlay.css">
    <link rel="shortcut icon" href="assets/favicon.ico" type="image/x-icon">
    <link href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
        integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
        integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
    <link
        href="https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,100;0,300;0,700;1,100;1,300;1,400&display=swap"
        rel="stylesheet" />
</head>

<body>
    <header class="header">
        <div class="header_container">
            <div class="header_padding"></div>
            <div class="header_link">
                <a class="header_link-logo" href="index.html">
                    <img class="header_link-logo-img" src="image/Threads Black Icon Logo Vector.svg"
                        alt="Thread Logo" />
                </a>
            </div>
            <div class="header_control">
                <div class="header_control-button-container">
                    <a href="index.html" class="header_control-link" data-active-icon="bxs-home-alt-2"
                        data-default-icon="bx-home-alt-2">
                        <i class="bx bx-home-alt-2 header_control-button"></i>
                    </a>
                </div>
                <div class="header_control-button-container">
                    <a href="search.html" class="header_control-link" data-active-icon="bxs-search"
                        data-default-icon="bx-search">
                        <i class="bx bx-search header_control-button"></i>
                    </a>
                </div>
                <div class="header_control-button-container">
                    <a href="#" id="openModalIcon" class="header_control-link" data-active-icon="bxs-edit-alt"
                        data-default-icon="bx-edit-alt">
                        <i class="bx bx-edit-alt header_control-button"></i>
                    </a>
                </div>
                <div class="header_control-button-container">
                    <a href="notification.html" class="header_control-link" data-active-icon="bxs-heart"
                        data-default-icon="bx-heart">
                        <i class="bx bx-heart header_control-button"></i>
                    </a>
                </div>
                <div class="header_control-button-container">
                    <a href="profile.html" class="header_control-link" data-active-icon="bxs-user"
                        data-default-icon="bx-user">
                        <i class="bx bx-user header_control-button"></i>
                    </a>
                </div>
            </div>
            <div class="header_menu">
                <input hidden id="header_menu-toggle" type="checkbox" />
                <label class="header_menu-label" for="header_menu-toggle">
                    <i class="bx bx-menu-alt-right header_menu-button"></i>
                </label>
                <div class="header_menu-list">
                    <div class="header_menu-item">
                        <a href="login.html" style="text-decoration: none; color: black;">Log out</a>
                    </div>
                    <div class="header_menu-item">Settings</div>
                    <div class="header_menu-item">Support</div>
                </div>
            </div>
        </div>
        <div class="header_bottom">
            <div class="header_control-button-container">
                <a href="index.html" class="header_control-link" data-active-icon="bx-home-alt-2"
                    data-default-icon="bx-home-alt-2">
                    <i class="bx bx-home-alt-2 header_control-button"></i>
                </a>
            </div>
            <div class="header_control-button-container">
                <a href="search.html" class="header_control-link" data-active-icon="bxs-search"
                    data-default-icon="bx-search">
                    <i class="bx bx-search header_control-button"></i>
                </a>
            </div>
            <div class="header_control-button-container">
                <a href="post.html" class="header_control-link" data-active-icon="bxs-edit-alt" data-default-icon="bx-edit-alt">
                    <i class="bx bx-edit-alt header_control-button"></i>
                </a>
            </div>
            <div class="header_control-button-container">
                <a href="notification.html" class="header_control-link" data-active-icon="bxs-heart"
                    data-default-icon="bx-heart">
                    <i class="bx bx-heart header_control-button"></i>
                </a>
            </div>
            <div class="header_control-button-container">
                <a href="profile.html" class="header_control-link" data-active-icon="bxs-user"
                    data-default-icon="bx-user">
                    <i class="bx bx-user header_control-button"></i>
                </a>
            </div>
        </div>
    </header>

    <div class="container">
        <section class="main">
            <div class="main_content">
                <div class="main_post">
                    <!-- <img class="main_post-avatar" src="image/ava1.png" alt="" /> -->
                    <i class="bi bi-person-circle"></i>
                    <input type="text" class="main_post-link" placeholder="Start a Threads..." onclick="openModal()">
                    <button class="main_post-button">Post</button>
                </div>

                <div class="main_status">
                    <div class="main_status-ava-contain">
                        <img class="main_post-avatar" src="image/ava2.png" class="main_status-ava" alt="" />
                        <span class="main_status-button-follow">+</span>
                    </div>

                    <div class="main_status-content">
                        <div class="main_status-header">
                            <div class="main_status-username">lamnhu.10th</div>
                            <div class="main_status-time">50 minutes</div>
                            <div class="main_status-action">
                                <i class="bx bx-dots-horizontal-rounded main_status-action-icon"></i>
                            </div>
                        </div>
                        <div>
                            <div class="main_status-text">Lorem ipsum dolor sit amet consectetur adipisicing elit. Illo
                                quo voluptas maiores harum delectus illum iusto explicabo mollitia consequatur
                                consequuntur, omnis reiciendis sequi. Natus deserunt quisquam tempora at cum delectus?
                            </div>
                            <div class="main_status-image-contain">
                                <img class="main_status-image" src="" alt="" />
                            </div>
                            <div class="main_status-action">
                                <i class="bx bx-heart main_status-heart"></i>
                                <i class="fa-regular fa-comment"></i>

                                <!-- active -->
                                <!-- <i style="color:#ff3040" class="bx bxs-heart main_status-heart"></i> -->
                            </div>
                            <div class="main_status-statistic">
                                <span>3 Thread Replied</span>
                                <span>∙</span>
                                <span>3222 likes</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="main_status">
                    <div class="main_status-ava-contain">
                        <img class="main_post-avatar" src="image/ava3.png" class="main_status-ava" alt="" />
                        <span class="main_status-button-follow">+</span>
                    </div>

                    <div class="main_status-content">
                        <div class="main_status-header">
                            <div class="main_status-username">dhty123</div>
                            <div class="main_status-time">50 minutes</div>
                            <div class="main_status-action">
                                <i class="bx bx-dots-horizontal-rounded main_status-action-icon"></i>
                            </div>
                        </div>
                        <div>
                            <div class="main_status-text">2 pictures threads</div>
                            <div class="main_status-2-image-contain">
                                <img class="main_status-2-image" src="post/post1.png" alt="" /><img
                                    class="main_status-2-image" src="post/post2.png" alt="" />
                            </div>
                            <div class="main_status-action">
                                <i class="bx bx-heart main_status-heart"></i>
                                <i class="fa-regular fa-comment"></i>

                                <!-- active -->
                                <!-- <i style="color:#ff3040" class="bx bxs-heart main_status-heart"></i> -->
                            </div>
                            <div class="main_status-statistic">
                                <span>3 Thread Replied</span>
                                <span>∙</span>
                                <span>3222 Likes</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="main_status">
                    <div class="main_status-ava-contain">
                        <img class="main_post-avatar" src="image/ava4.png" class="main_status-ava" alt="" />
                        <span class="main_status-button-follow">+</span>
                    </div>

                    <div class="main_status-content">
                        <div class="main_status-header">
                            <div class="main_status-username">ntm_ngy</div>
                            <div class="main_status-time">50 minutes</div>
                            <div class="main_status-action">
                                <i class="bx bx-dots-horizontal-rounded main_status-action-icon"></i>
                            </div>
                        </div>
                        <div>
                            <div class="main_status-text">Thread >3 pictures</div>
                            <div id="carousel1" class="main_status-2-image-contain carousel">
                                <div class="carousel-inner">
                                    <div class="carousel-item">
                                        <img src="post/post3.png" alt="Image 1" class="carousel_img" />
                                    </div>
                                    <div class="carousel-item">
                                        <img src="post/post4.png" alt="Image 2" class="carousel_img" />
                                    </div>
                                    <div class="carousel-item">
                                        <img src="post/post5.png" alt="Image 3" class="carousel_img" />
                                    </div>
                                    <div class="carousel-item">
                                        <img src="post/post6.png" alt="Image 3" class="carousel_img" />
                                    </div>
                                    <div class="carousel-item">
                                        <img src="post/post7.png" alt="Image 3" class="carousel_img" />
                                    </div>
                                    <div class="carousel-item">
                                        <img src="post/post8.png" alt="Image 3" class="carousel_img" />
                                    </div>
                                    <!-- Add more slides as needed -->
                                </div>
                                <button class="prev hidden" onclick="prevSlide('carousel1')">
                                    &#10094;
                                </button>
                                <button class="next" onclick="nextSlide('carousel1')">
                                    &#10095;
                                </button>
                            </div>

                            <div class="main_status-action">
                                <i class="bx bx-heart main_status-heart"></i>
                                <i class="fa-regular fa-comment"></i>

                                <!-- active -->
                                <!-- <i style="color:#ff3040" class="bx bxs-heart main_status-heart"></i> -->
                            </div>
                            <div class="main_status-statistic">
                                <span>3 Thread Replied</span>
                                <span>∙</span>
                                <span>3222 Likes</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="main_status">
                    <div class="main_status-ava-contain">
                        <img class="main_post-avatar" src="image/ava6.png" class="main_status-ava" alt="" />
                        <span class="main_status-button-follow">+</span>
                    </div>

                    <div class="main_status-content">
                        <div class="main_status-header">
                            <div class="main_status-username">caboo</div>
                            <div class="main_status-time">50 minutes</div>
                            <div class="main_status-action">
                                <i class="bx bx-dots-horizontal-rounded main_status-action-icon"></i>
                            </div>
                        </div>
                        <div>
                            <div class="main_status-text">2 pictures threads</div>
                            <div class="main_status-2-image-contain">
                                <img class="main_status-2-image" src="post/post4.png" alt="" /><img
                                    class="main_status-2-image" src="post/post6.png" alt="" />
                            </div>
                            <div class="main_status-action">
                                <i class="bx bx-heart main_status-heart"></i>
                                <i class="fa-regular fa-comment"></i>

                                <!-- active -->
                                <!-- <i style="color:#ff3040" class="bx bxs-heart main_status-heart"></i> -->
                            </div>
                            <div class="main_status-statistic">
                                <span>3 Thread Replied</span>
                                <span>∙</span>
                                <span>3222 Likes</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="main_status">
                    <div class="main_status-ava-contain">
                        <img class="main_post-avatar" src="image/ava3.png" class="main_status-ava" alt="" />
                        <span class="main_status-button-follow">+</span>
                    </div>

                    <div class="main_status-content">
                        <div class="main_status-header">
                            <div class="main_status-username">dhty123</div>
                            <div class="main_status-time">50 minutes</div>
                            <div class="main_status-action">
                                <i class="bx bx-dots-horizontal-rounded main_status-action-icon"></i>
                            </div>
                        </div>
                        <div>
                            <div class="main_status-text">Lorem ipsum dolor sit amet consectetur, adipisicing elit. Eius
                                ab molestiae voluptatum blanditiis? Modi officiis quis placeat dolores quam amet.</div>
                            <div class="main_status-image-contain">
                                <img class="main_status-image" src="" alt="" />
                            </div>
                            <div class="main_status-action">
                                <i class="bx bx-heart main_status-heart"></i>
                                <i class="fa-regular fa-comment"></i>

                                <!-- active -->
                                <!-- <i style="color:#ff3040" class="bx bxs-heart main_status-heart"></i> -->
                            </div>
                            <div class="main_status-statistic">
                                <span>3 Thread Replied</span>
                                <span>∙</span>
                                <span>3222 likes</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="main_status">
                    <div class="main_status-ava-contain">
                        <img class="main_post-avatar" src="image/ava1.png" class="main_status-ava" alt="" />
                        <span class="main_status-button-follow">+</span>
                    </div>

                    <div class="main_status-content">
                        <div class="main_status-header">
                            <div class="main_status-username">rmuhm_</div>
                            <div class="main_status-time">50 minutes</div>
                            <div class="main_status-action">
                                <i class="bx bx-dots-horizontal-rounded main_status-action-icon"></i>
                            </div>
                        </div>
                        <div>
                            <div class="main_status-text">Lorem ipsum dolor sit amet consectetur, adipisicing elit.
                                Soluta amet est aut. Dignissimos voluptates voluptas, eveniet ratione dolores veniam
                                nobis aperiam ut ea iusto, minima cupiditate cumque quaerat? Odit, explicabo.</div>
                            <div class="main_status-image-contain">
                                <img class="main_status-image" src="" alt="" />
                            </div>
                            <div class="main_status-action">
                                <i class="bx bx-heart main_status-heart"></i>
                                <i class="fa-regular fa-comment"></i>

                                <!-- active -->
                                <!-- <i style="color:#ff3040" class="bx bxs-heart main_status-heart"></i> -->
                            </div>
                            <div class="main_status-statistic">
                                <span>3 Thread Replied</span>
                                <span>∙</span>
                                <span>3222 likes</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="main_status">
                    <div class="main_status-ava-contain">
                        <img class="main_post-avatar" src="image/ava5.png" class="main_status-ava" alt="" />
                        <span class="main_status-button-follow">+</span>
                    </div>

                    <div class="main_status-content">
                        <div class="main_status-header">
                            <div class="main_status-username">dhy_audrey</div>
                            <div class="main_status-time">50 minutes</div>
                            <div class="main_status-action">
                                <i class="bx bx-dots-horizontal-rounded main_status-action-icon"></i>
                            </div>
                        </div>
                        <div>
                            <div class="main_status-text">Lorem ipsum dolor, sit amet consectetur adipisicing elit.
                                Ipsa, ab.</div>
                            <div class="main_status-image-contain">
                                <img class="main_status-image" src="post/post5.png" alt="" />
                            </div>
                            <div class="main_status-action">
                                <i class="bx bx-heart main_status-heart"></i>
                                <i class="fa-regular fa-comment"></i>

                                <!-- active -->
                                <!-- <i style="color:#ff3040" class="bx bxs-heart main_status-heart"></i> -->
                            </div>
                            <div class="main_status-statistic">
                                <span>3 Thread Replied</span>
                                <span>∙</span>
                                <span>3222 likes</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="main_status">
                    <div class="main_status-ava-contain">
                        <img class="main_post-avatar" src="image/ava4.png" class="main_status-ava" alt="" />
                        <span class="main_status-button-follow">+</span>
                    </div>

                    <div class="main_status-content">
                        <div class="main_status-header">
                            <div class="main_status-username">andou2810</div>
                            <div class="main_status-time">50 minutes</div>
                            <div class="main_status-action">
                                <i class="bx bx-dots-horizontal-rounded main_status-action-icon"></i>
                            </div>
                        </div>
                        <div>
                            <div class="main_status-text">Thread >3 pictures</div>
                            <div id="carousel1" class="main_status-2-image-contain carousel">
                                <div class="carousel-inner">
                                    <div class="carousel-item">
                                        <img src="post/post3.png" alt="Image 1" class="carousel_img" />
                                    </div>
                                    <div class="carousel-item">
                                        <img src="post/post10.png" alt="Image 2" class="carousel_img" />
                                    </div>
                                    <div class="carousel-item">
                                        <img src="post/post2.png" alt="Image 3" class="carousel_img" />
                                    </div>
                                    <div class="carousel-item">
                                        <img src="post/post7.png" alt="Image 3" class="carousel_img" />
                                    </div>
                                    <div class="carousel-item">
                                        <img src="post/post4.png" alt="Image 3" class="carousel_img" />
                                    </div>
                                    <div class="carousel-item">
                                        <img src="post/post9.png" alt="Image 3" class="carousel_img" />
                                    </div>
                                    <!-- Add more slides as needed -->
                                </div>
                                <button class="prev hidden" onclick="prevSlide('carousel1')">
                                    &#10094;
                                </button>
                                <button class="next" onclick="nextSlide('carousel1')">
                                    &#10095;
                                </button>
                            </div>

                            <div class="main_status-action">
                                <i class="bx bx-heart main_status-heart"></i>
                                <i class="fa-regular fa-comment"></i>

                                <!-- active -->
                                <!-- <i style="color:#ff3040" class="bx bxs-heart main_status-heart"></i> -->
                            </div>
                            <div class="main_status-statistic">
                                <span>3 Thread Replied</span>
                                <span>∙</span>
                                <span>3222 Likes</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <div class="modal-overlay" id="modalOverlay" style="display: none;  border-radius: 18px;">
        <div class="modal-content">
            <div class="main-part">
                <div class="part">
                    <div class="left-body">
                        <div class="modal-avatar">
                            <i class="bi bi-person-circle"></i>
                        </div>
                    </div>

                    <div class="post-body">
                        <div class="name">rmuhm_</div>
                        <textarea id="text-post-popup" placeholder="Start a thread..." rows="3" cols="50"></textarea>
                        <div class="attachments">
                            <div class="attachment-item">
                                <i class="bi bi-image"></i>
                            </div>
                            <div class="attachment-item">
                                <i class="bi bi-hash"></i>
                            </div>
                            <div class="attachment-item">
                                <i class="bi bi-bar-chart"></i>
                            </div>

                        </div>
                    </div>
                </div>

                <div class="add-threads">
                    <div class="small-modal-avatar">
                        <i class="bi bi-person-circle" id="small-avatar"></i>
                    </div>
                    <input type="text" placeholder="Add to Threads..." class="add-thread-input" disabled>
                </div>
            </div>

            <div class="modal-footer">
                <p class="reply-info">Your followers can reply</p>
                <button class="main_post-button" id="post-button-box">Post</button>
            </div>
        </div>
    </div>

    <script>
        const iconLinks = document.querySelectorAll('.header_control-link');

        iconLinks.forEach(link => {
            link.addEventListener('click', () => {
                iconLinks.forEach(l => {
                    const icon = l.querySelector('i');
                    icon.className = `bx ${l.dataset.defaultIcon} header_control-button`;
                    l.classList.remove('header_control-link-selected');
                });

                const icon = link.querySelector('i');
                icon.className = `bx ${link.dataset.activeIcon} header_control-button`;
                link.classList.add('header_control-link-selected');
            });
        });

        const userLink = document.querySelector('.header_control-link[href="index.html"]');
        if (userLink) {
            const userIcon = userLink.querySelector('i');
            userLink.classList.add('header_control-link-selected');
            userIcon.className = `bx ${userLink.dataset.activeIcon} header_control-button`;
            userIcon.style.color = 'black';
        }

        const statusHeaders = document.querySelectorAll('.profile_status-header');

        statusHeaders.forEach(header => {
            header.addEventListener('click', () => {
                statusHeaders.forEach(h => h.classList.remove('profile_status-header-active'));
                header.classList.add('profile_status-header-active');
            });
        });

        // carousel
        function initCarousel(carouselId) {
            let currentIndex = 0;
            const carousel = document.getElementById(carouselId);

            function showSlide(index) {

                const carouselInner = carousel.querySelector(".carousel-inner");
                const totalSlides = carousel.querySelectorAll(".carousel-item").length;

                if (index == 0) {
                    carousel.querySelector(".prev").classList.add("hidden");
                } else {
                    carousel.querySelector(".prev").classList.remove("hidden");
                }

                if (index == totalSlides - 2) {
                    carousel.querySelector(".next").classList.add("hidden");
                } else {
                    carousel.querySelector(".next").classList.remove("hidden");
                }

                index = (index + totalSlides) % totalSlides;
                console.log(index)
                const translateValue = -index * 45 + "%";
                carouselInner.style.transform = `translateX(${translateValue})`;
                currentIndex = index;
            }

            carousel.querySelector(".prev").addEventListener("click", () => {
                showSlide(currentIndex - 1);
            });

            carousel.querySelector(".next").addEventListener("click", () => {
                showSlide(currentIndex + 1);
            });
        }

        initCarousel("carousel1");

        //modal
        function postContent() {
            const postText = document.getElementById('post-text').value;
            if (postText.trim() !== "") {
                alert("Đã đăng bài: " + postText);
                document.getElementById('post-text').value = "";
            } else {
                alert("Vui lòng nhập nội dung bài viết!");
            }
        }

        const modalOverlay = document.getElementById('modalOverlay');
        const postButton = document.querySelector('#post-button-box'); // Sử dụng querySelector

        postButton.addEventListener('click', () => {
            modalOverlay.style.display = 'none';
        });

        // Đóng modal khi nhấn ra ngoài modal
        modalOverlay.addEventListener('click', (event) => {
            if (event.target === modalOverlay) {
                modalOverlay.style.display = 'none';
            }
        });

        function openModal() {
            const modal = document.getElementById('modalOverlay');
            modal.style.display = 'flex';
        }

        // Close modal when clicking outside
        document.getElementById('modalOverlay').addEventListener('click', function (e) {
            if (e.target === this) {
                this.style.display = 'none';
            }
        });

        // Prevent modal from closing when clicking inside modal-content
        document.querySelector('.modal-content').addEventListener('click', function (e) {
            e.stopPropagation();
        });

        document.getElementById('text-post-popup').addEventListener('input', function () {
            const addThreadInput = document.querySelector('.add-thread-input');
            addThreadInput.disabled = !this.value.trim();
        });

        document.querySelector('.add-thread-input').addEventListener('click', function () {
            if (!this.disabled) {
                const newPart = document.createElement('div');
                newPart.className = 'part';
                newPart.innerHTML = `
                    <div class="left-body">
                        <div class="modal-avatar">
                            <i class="bi bi-person-circle"></i>
                        </div>
                    </div>
                    <div class="post-body">
                        <div class="name">rmuhm_</div>
                        <textarea class="text-post-popup" placeholder="Start a thread..." rows="3" cols="50" style="resize:none"></textarea>
                        <div class="attachments">
                            <div class="attachment-item">
                                <i class="bi bi-image"></i>
                            </div>
                            <div class="attachment-item">
                                <i class="bi bi-hash"></i>
                            </div>
                            <div class="attachment-item">
                                <i class="bi bi-bar-chart"></i>
                            </div>
                        </div>
                    </div>`;

                const mainPart = document.querySelector('.main-part');
                const addThreads = document.querySelector('.add-threads');
                mainPart.insertBefore(newPart, addThreads);

                // Disable the add-thread-input
                this.disabled = true;

                // Add event listener to the new textarea
                const newTextarea = newPart.querySelector('.text-post-popup');
                newTextarea.addEventListener('input', function () {
                    const addThreadInput = document.querySelector('.add-thread-input');
                    const allTextareas = document.querySelectorAll('.text-post-popup');
                    const lastTextarea = allTextareas[allTextareas.length - 1];
                    addThreadInput.disabled = !lastTextarea.value.trim();
                });
            }
        });

        // Initial event listener for the first text-post-popup
        document.getElementById('text-post-popup').addEventListener('input', function () {
            const addThreadInput = document.querySelector('.add-thread-input');
            addThreadInput.disabled = !this.value.trim();
        });
    </script>

    <script>
        const iconButton = document.getElementById('openModalIcon');

        // Thêm sự kiện mở modal khi click vào icon
        iconButton.addEventListener('click', (event) => {
            event.preventDefault(); // Ngăn chặn hành vi mặc định của thẻ <a>
            modalOverlay.style.display = 'flex';
        });

        // Đóng modal khi nhấn vào nút postButton
        postButton.addEventListener('click', () => {
            modalOverlay.style.display = 'none';
        });

        // Đóng modal khi nhấn ra ngoài modal
        modalOverlay.addEventListener('click', (event) => {
            if (event.target === modalOverlay) {
                modalOverlay.style.display = 'none';
            }
        });

        // Ngăn modal đóng khi click vào modal-content
        document.querySelector('.modal-content').addEventListener('click', function (e) {
            e.stopPropagation();
        });

        // Đảm bảo input hoạt động khi người dùng nhập vào
        document.getElementById('text-post-popup').addEventListener('input', function () {
            const addThreadInput = document.querySelector('.add-thread-input');
            addThreadInput.disabled = !this.value.trim();
        });

        // Xử lý sự kiện khi click vào add-thread-input
        document.querySelector('.add-thread-input').addEventListener('click', function () {
            if (!this.disabled) {
                const newPart = document.createElement('div');
                newPart.className = 'part';
                newPart.innerHTML = `
        <div class="left-body">
            <div class="modal-avatar">
                <i class="bi bi-person-circle"></i>
            </div>
        </div>
        <div class="post-body">
            <div class="name">rmuhm_</div>
            <textarea class="text-post-popup" placeholder="Start a thread..." rows="3" cols="50" style="resize:none"></textarea>
            <div class="attachments">
                <div class="attachment-item">
                    <i class="bi bi-image"></i>
                </div>
                <div class="attachment-item">
                    <i class="bi bi-hash"></i>
                </div>
                <div class="attachment-item">
                    <i class="bi bi-bar-chart"></i>
                </div>
            </div>
        </div>`;

                const mainPart = document.querySelector('.main-part');
                const addThreads = document.querySelector('.add-threads');
                mainPart.insertBefore(newPart, addThreads);

                // Disable the add-thread-input
                this.disabled = true;

                // Add event listener to the new textarea
                const newTextarea = newPart.querySelector('.text-post-popup');
                newTextarea.addEventListener('input', function () {
                    const addThreadInput = document.querySelector('.add-thread-input');
                    const allTextareas = document.querySelectorAll('.text-post-popup');
                    const lastTextarea = allTextareas[allTextareas.length - 1];
                    addThreadInput.disabled = !lastTextarea.value.trim();
                });
            }
        });

        // Initial event listener for the first text-post-popup
        document.getElementById('text-post-popup').addEventListener('input', function () {
            const addThreadInput = document.querySelector('.add-thread-input');
            addThreadInput.disabled = !this.value.trim();
        });
    </script>
</body>

</html>